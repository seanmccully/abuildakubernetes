# aBuildaKubernetes
Build(s) a [MultiNode] Kubernetes Cluster.
=======================================================================
   Scripts for setting up a kubernetes cluster. Started with doing Kubernetes the hard way and started creating scripts to make the process a little smoother.

PreReq(s):
  -- go compiler (required to bootstrap go)
  -- haproxy
  -- ssh root access between any nodes.
  --
-
To run:
    `bash proc.sh [-s -c -x -y -l] [-h]`

## Scripts
The process is broken down into multiple scripts. Each script can also be ran independently.
* proc.sh
  - The main process, setups some configuration and templates values, runs the other scripts for building out the services and certificates.
* source-builder.sh
  - Clones and build the source repos on the hosts defined in hosts.yaml
* cert-manager.sh
  - Creates the certificate authorities and required certs for the hosts, certs defined in certs.yaml.
* setup-sources.sh
  - Configures the sources on each host.
* common.sh
  - Common Values and functions.


## Configuration

* config.yaml -- Defines service level configuration.
* certs.yaml - Defines certificate authorities and certificates to create.
* `hosts.yaml` - Autogenerated file

### TODO:
 - [ ] deploy nodes as a control plane or worker node only.
 - [ ] Configurable Network Backend
 - [ ] Avoid requiring root (i.e. using sudo). Currently script run as root, and requires root on each host.

##### ##########################################
##### #### MIT License #########################
##### ##  Copyright (c) 2024 Sean McCully
##### ##########################################

